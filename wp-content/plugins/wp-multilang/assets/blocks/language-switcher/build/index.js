(()=>{"use strict";const e=window.React,t=window.wp.blocks,a=window.wp.blockEditor,l=window.wp.components,n=window.wp.i18n;(0,t.registerBlockType)("wpm/language-switcher",{title:"Language Switcher",icon:"translation",keywords:["Lang","Language Switcher","Switcher","Language","Translate"],parent:["core/navigation","core/post-content","core/group"],attributes:{switchType:{type:"string",default:"dropdown"},switchShow:{type:"string",default:"both"}},edit:function(t){var w=t.attributes;const{attributes:{mySelect:c},setAttributes:m}=t,i=[{label:(0,n.__)("Drop Down","wp-multilang"),value:"dropdown"},{label:(0,n.__)("List","wp-multilang"),value:"list"},{label:(0,n.__)("Select","wp-multilang"),value:"select"}],s=[{label:(0,n.__)("Both","wp-multilang"),value:"both"},{label:(0,n.__)("Flag","wp-multilang"),value:"flag"},{label:(0,n.__)("Name","wp-multilang"),value:"name"}],h=wpmLanguageSwitcher.lang,o=wpmLanguageSwitcher.languages,r=wpmLanguageSwitcher.flag_url,g=r+o[h].flag,p=o[h].name,u=(window.location.href,Object.keys(o));return(0,e.createElement)(e.Fragment,null,(0,e.createElement)(a.InspectorControls,null,(0,e.createElement)(l.PanelBody,null,(0,e.createElement)(l.SelectControl,{label:(0,n.__)("Type","wp-multilang"),value:w.switchType,options:i,onChange:e=>m({switchType:e})}),(0,e.createElement)(l.SelectControl,{label:(0,n.__)("Show","wp-multilang"),value:w.switchShow,options:s,onChange:e=>m({switchShow:e})}))),(0,e.createElement)("div",null,"dropdown"==w.switchType?(0,e.createElement)("ul",{className:"wpm-language-switcher wpm-switcher-dropdown"},(0,e.createElement)("li",{className:"wpm-item-language-main wpm-item-language-en"},(0,e.createElement)("span",null,("flag"==w.switchShow||"both"==w.switchShow)&&(0,e.createElement)("img",{src:g,alt:p}),("name"==w.switchShow||"both"==w.switchShow)&&(0,e.createElement)("span",null,p)),(0,e.createElement)("ul",{className:"wpm-language-dropdown"},u.map(((t,a)=>t!=h&&(0,e.createElement)("li",{key:a,className:"wpm-item-language-"+t},(0,e.createElement)("a",{href:"#","data-lang":t},("flag"==w.switchShow||"both"==w.switchShow)&&(0,e.createElement)("img",{src:r+o[t].flag,alt:o[t].name}),("name"==w.switchShow||"both"==w.switchShow)&&(0,e.createElement)("span",null,o[t].name)))))))):"list"==w.switchType?(0,e.createElement)("ul",{className:"wpm-language-switcher wpm-switcher-list"},u.map(((t,a)=>(0,e.createElement)("li",{key:a,className:"wpm-item-language-"+t},h==t&&(0,e.createElement)("span",{"data-lang":t},("flag"==w.switchShow||"both"==w.switchShow)&&(0,e.createElement)("img",{src:r+o[t].flag,alt:o[t].name}),("name"==w.switchShow||"both"==w.switchShow)&&(0,e.createElement)("span",null,o[t].name)),h!=t&&(0,e.createElement)("a",{href:"#","data-lang":t},("flag"==w.switchShow||"both"==w.switchShow)&&(0,e.createElement)("img",{src:r+o[t].flag,alt:o[t].name}),("name"==w.switchShow||"both"==w.switchShow)&&(0,e.createElement)("span",null,o[t].name)))))):"select"==w.switchType?(0,e.createElement)("select",{className:"wpm-language-switcher wpm-switcher-select",title:(0,n.__)("Language Switcher","wp-multilang")},u.map(((t,a)=>h!=t?(0,e.createElement)("option",{key:a,value:t,"data-lang":t},o[t].name):(0,e.createElement)("option",{key:a,value:t,"data-lang":t,selected:"selected"},o[t].name)))):void 0))},save:function(t){var a=t.attributes;(0,n.__)("Drop Down","wp-multilang"),(0,n.__)("List","wp-multilang"),(0,n.__)("Select","wp-multilang"),(0,n.__)("Both","wp-multilang"),(0,n.__)("Flag","wp-multilang"),(0,n.__)("Name","wp-multilang");const l=wpmLanguageSwitcher.lang,w=wpmLanguageSwitcher.languages,c=wpmLanguageSwitcher.flag_url,m=c+w[l].flag,i=w[l].name,s=(window.location.href,Object.keys(w));return(0,e.createElement)("div",null,"dropdown"==a.switchType?(0,e.createElement)("ul",{className:"wpm-language-switcher wpm-switcher-dropdown"},(0,e.createElement)("li",{className:"wpm-item-language-main wpm-item-language-en"},(0,e.createElement)("span",null,("flag"==a.switchShow||"both"==a.switchShow)&&(0,e.createElement)("img",{src:m,alt:i}),("name"==a.switchShow||"both"==a.switchShow)&&(0,e.createElement)("span",null,i)),(0,e.createElement)("ul",{className:"wpm-language-dropdown"},s.map(((t,n)=>t!=l&&(0,e.createElement)("li",{key:n,className:"wpm-item-language-"+t},(0,e.createElement)("a",{href:"#","data-lang":t},("flag"==a.switchShow||"both"==a.switchShow)&&(0,e.createElement)("img",{src:c+w[t].flag,alt:w[t].name}),("name"==a.switchShow||"both"==a.switchShow)&&(0,e.createElement)("span",null,w[t].name)))))))):"list"==a.switchType?(0,e.createElement)("ul",{className:"wpm-language-switcher wpm-switcher-list"},s.map(((t,n)=>(0,e.createElement)("li",{key:n,className:"wpm-item-language-"+t},l==t&&(0,e.createElement)("span",{"data-lang":t},("flag"==a.switchShow||"both"==a.switchShow)&&(0,e.createElement)("img",{src:c+w[t].flag,alt:w[t].name}),("name"==a.switchShow||"both"==a.switchShow)&&(0,e.createElement)("span",null,w[t].name)),l!=t&&(0,e.createElement)("a",{href:"#","data-lang":t},("flag"==a.switchShow||"both"==a.switchShow)&&(0,e.createElement)("img",{src:c+w[t].flag,alt:w[t].name}),("name"==a.switchShow||"both"==a.switchShow)&&(0,e.createElement)("span",null,w[t].name)))))):"select"==a.switchType?(0,e.createElement)("select",{className:"wpm-language-switcher wpm-switcher-select",title:(0,n.__)("Language Switcher","wp-multilang")},s.map(((t,a)=>l!=t?(0,e.createElement)("option",{key:a,value:t,"data-lang":t},w[t].name):(0,e.createElement)("option",{key:a,value:t,"data-lang":t,selected:"selected"},w[t].name)))):void 0)}})})();